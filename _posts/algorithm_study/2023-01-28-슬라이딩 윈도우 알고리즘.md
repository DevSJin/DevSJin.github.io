---
title:  "[개념공부] 슬라이딩 윈도우 알고리즘"
permalink: /categories/algo_study/slidingwindow
author_profile: true
categories:
  - 알고리즘 개념 정리
tags:
  - 알고리즘 개념 정리
toc: true
toc_label: "목차"
toc_icon: "bookmark"
last_modified_at: 2023-01-28
toc_sticky: true
---

 숫자로 이루어진 배열에서, 연속적인 N개의 숫자 합 중 최대값을 구하는데 최적화된 슬라이딩 윈도우 알고리즘에 대해 알아보자.



### 슬라이딩 윈도우 알고리즘

>  **고정 사이즈(n)의 윈도우가 이동하면서 윈도우 내에 있는 데이터를 이용해 문제를 풀이하는 알고리즘**을 말한다. 교집합의 정보를 공유하고, 차이가 나는 **양쪽 끝 원소만 갱신**하는 방법. 배열이나 리스트의 요소의 일정 범위의 값을 비교할 때 사용하면 매우 유용하다.

예제를 통해 더 자세히 알아보도록 하겠다.



#### 연속 일수 최대 매출 문제

홍준이는 요식업을 운영합니다. 홍준이는 아들에게 N일동안 매출기록을 주고, 연속된 K일 동안의 최대 매출액이 얼마인지 구하라고 했습니다.

만약 N=10, K=3일 때 10일간의 매출 기록이 다음과 같을때,

13 16 `12 21 26` 11 21 19 14 16

연속된 3일간의 최대 매출액은 12 + 21 + 26 = 59 입니다.

최대 매출액을 구하는 코드를 만들어 홍준이 아들을 도와주세요!

##### ▣ 입력설명 

첫 줄에 N(5<=N<=100,000)과 K(2<=K<=N)가 주어집니다. 두 번째 줄에 N개의 숫자열이 주어집니다. 각 숫자는 500이하의 음이 아닌 정수입니다.

##### ▣ 출력설명 

첫 줄에 최대 매출액을 출력합니다.

##### ▣ 입력예제 

10 3

13 16 12 21 26 11 21 19 14 16

##### ▣ 출력예제  

59



#### 알고리즘 아이디어 설명

N=10, M=3인 13 16 12 21 26 11 21 19 14 16로 이루어진 배열에서 A[i] + A[i+1] + A[i+2] 형식으로 연속적인 3개의 숫자의 합의 최댓값을 구한다고 가정해보면 N - M + 1개(8개)의 경우의 수가 나온다.
[13, 16, 12], 21, 26, 11, 21, 19, 14, 16
13, [16, 12, 21], 26, 11, 21, 19, 14, 16
13, 16, [12, 21, 26], 11, 21, 19, 14, 16
.
.
13, 16, 12, 21, 26, 11, [21, 19, 14], 16
13, 16, 12, 21, 26, 11, 21, [19, 14, 16]

여기서 합을 계산하는 M크기의 배열 변화를 보면, [13, 16, 12], [16, 12, 21], [12, 21, 26] ...=> [19, 14, 16]이다. 그렇다면 3중 반복문을 돌리지 않고 어떻게 연속적인 수들의 합을 구할 수 있을지 고민해보자.

1. 먼저 처음 배열의 합을 구해보면, 13 + 16 + 12 = 41
2. 다음 배열의 합은 앞 배열에서 13이 빠지고, 21이 들어간다. 그렇다면 41 - 13 + 21 = 49
3. 위 규칙을 이해해보면, 다음 배열의 합은 전 배열에서 처음 원소를 빼고 다음에 들어올 원소를 더해주면 된다는 것을 알 수 있다!

그럼 본격적으로 코드를 작성해보자.

```js
function solution(n, m, arr) {
    let res = 0, sum = 0
    for (let i = 0; i < n - m + 1; i++) {
        if (i === 0) sum = arr[i] + arr[i + 1] + arr[i + 2]
        else {
            res = Math.max(res, sum - arr[i - 1] + arr[i + m - 1])
            sum = sum - arr[i - 1] + arr[i + m - 1]
        }
    }
    return res
}
arr = [13, 16, 12, 21, 26, 11, 21, 19, 14, 16]
console.log(solution(10, 3, arr))
```

어렵지 않게 구현 가능하다!

혹은 이런식으로도 구현이 가능하다.

```js
function solution(k, arr){
	let answer, sum=0;
	for(let i=0; i<k; i++) sum+=arr[i];
	answer=sum;
	for(let i=k; i<arr.length; i++){
	sum+=(arr[i]-arr[i-k]);
	answer=Math.max(answer, sum);
	}                    
	return answer;
}

let a=[12, 15, 11, 20, 25, 10, 20, 19, 13, 15];
console.log(solution(3, a));
```

